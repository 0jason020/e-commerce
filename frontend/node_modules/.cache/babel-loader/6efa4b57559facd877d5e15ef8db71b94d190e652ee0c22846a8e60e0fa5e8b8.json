{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\HP\\\\Desktop\\\\paccy\\\\frontend\\\\src\\\\pages\\\\CategoryPage.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { supabase } from '../supabaseClient';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CategoryPage = ({\n  addToCart,\n  isDealPage\n}) => {\n  _s();\n  // categoryName comes from /category/:categoryName\n  // dealType comes from /deals/:dealType\n  const {\n    categoryName,\n    dealType\n  } = useParams();\n  const [products, setProducts] = useState([]);\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    const fetchFilteredProducts = async () => {\n      setLoading(true);\n      let query = supabase.from('products').select('*');\n      if (isDealPage) {\n        // Look in the new 'deal_type' column we just created in Supabase\n        query = query.eq('deal_type', dealType);\n      } else {\n        // Look in the regular 'category' column\n        query = query.eq('category', categoryName);\n      }\n      const {\n        data,\n        error\n      } = await query;\n      if (error) {\n        console.error(\"Error fetching products:\", error);\n      } else {\n        setProducts(data);\n      }\n      setLoading(false);\n    };\n    fetchFilteredProducts();\n  }, [categoryName, dealType, isDealPage]);\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: '50px',\n      textAlign: 'center'\n    },\n    children: \"Loading items...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 23\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: '20px'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      style: {\n        textTransform: 'capitalize',\n        marginBottom: '20px'\n      },\n      children: isDealPage ? dealType.replace('_', ' ') : categoryName\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this), products.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"No products found in this section.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }, this) :\n    /*#__PURE__*/\n    /* This is the grid layout for your products */\n    _jsxDEV(\"div\", {\n      style: productGrid,\n      children: products.map(product => /*#__PURE__*/_jsxDEV(\"div\", {\n        style: productCard,\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: product.image_url,\n          alt: product.name,\n          style: productImage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n          style: {\n            fontSize: '14px',\n            margin: '10px 0'\n          },\n          children: product.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            color: '#ff4d4f',\n            fontWeight: 'bold'\n          },\n          children: [\"RWF \", product.price]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => addToCart(product),\n          style: addBtn,\n          children: \"Add to Cart\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 15\n        }, this)]\n      }, product.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 5\n  }, this);\n};\n\n// --- Styles ---\n_s(CategoryPage, \"xLCzSKXMCFd2BaWNKQxZLLxghpQ=\", false, function () {\n  return [useParams];\n});\n_c = CategoryPage;\nconst productGrid = {\n  display: 'grid',\n  gridTemplateColumns: 'repeat(auto-fill, minmax(160px, 1fr))',\n  gap: '15px'\n};\nconst productCard = {\n  border: '1px solid #eee',\n  padding: '10px',\n  borderRadius: '8px',\n  textAlign: 'center',\n  backgroundColor: '#fff'\n};\nconst productImage = {\n  width: '100%',\n  height: '150px',\n  objectFit: 'cover',\n  borderRadius: '4px'\n};\nconst addBtn = {\n  backgroundColor: '#131921',\n  color: 'white',\n  border: 'none',\n  padding: '8px',\n  width: '100%',\n  cursor: 'pointer',\n  borderRadius: '4px'\n};\nexport default CategoryPage;\nvar _c;\n$RefreshReg$(_c, \"CategoryPage\");","map":{"version":3,"names":["React","useEffect","useState","useParams","supabase","jsxDEV","_jsxDEV","CategoryPage","addToCart","isDealPage","_s","categoryName","dealType","products","setProducts","loading","setLoading","fetchFilteredProducts","query","from","select","eq","data","error","console","style","padding","textAlign","children","fileName","_jsxFileName","lineNumber","columnNumber","textTransform","marginBottom","replace","length","productGrid","map","product","productCard","src","image_url","alt","name","productImage","fontSize","margin","color","fontWeight","price","onClick","addBtn","id","_c","display","gridTemplateColumns","gap","border","borderRadius","backgroundColor","width","height","objectFit","cursor","$RefreshReg$"],"sources":["C:/Users/HP/Desktop/paccy/frontend/src/pages/CategoryPage.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport { supabase } from '../supabaseClient';\r\n\r\nconst CategoryPage = ({ addToCart, isDealPage }) => {\r\n  // categoryName comes from /category/:categoryName\r\n  // dealType comes from /deals/:dealType\r\n  const { categoryName, dealType } = useParams();\r\n  const [products, setProducts] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const fetchFilteredProducts = async () => {\r\n      setLoading(true);\r\n      let query = supabase.from('products').select('*');\r\n\r\n      if (isDealPage) {\r\n        // Look in the new 'deal_type' column we just created in Supabase\r\n        query = query.eq('deal_type', dealType);\r\n      } else {\r\n        // Look in the regular 'category' column\r\n        query = query.eq('category', categoryName);\r\n      }\r\n\r\n      const { data, error } = await query;\r\n\r\n      if (error) {\r\n        console.error(\"Error fetching products:\", error);\r\n      } else {\r\n        setProducts(data);\r\n      }\r\n      setLoading(false);\r\n    };\r\n\r\n    fetchFilteredProducts();\r\n  }, [categoryName, dealType, isDealPage]);\r\n\r\n  if (loading) return <div style={{ padding: '50px', textAlign: 'center' }}>Loading items...</div>;\r\n\r\n  return (\r\n    <div style={{ padding: '20px' }}>\r\n      <h2 style={{ textTransform: 'capitalize', marginBottom: '20px' }}>\r\n        {isDealPage ? dealType.replace('_', ' ') : categoryName}\r\n      </h2>\r\n\r\n      {products.length === 0 ? (\r\n        <p>No products found in this section.</p>\r\n      ) : (\r\n        /* This is the grid layout for your products */\r\n        <div style={productGrid}>\r\n          {products.map((product) => (\r\n            <div key={product.id} style={productCard}>\r\n              <img src={product.image_url} alt={product.name} style={productImage} />\r\n              <h4 style={{ fontSize: '14px', margin: '10px 0' }}>{product.name}</h4>\r\n              <p style={{ color: '#ff4d4f', fontWeight: 'bold' }}>RWF {product.price}</p>\r\n              <button onClick={() => addToCart(product)} style={addBtn}>Add to Cart</button>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\n// --- Styles ---\r\nconst productGrid = {\r\n  display: 'grid',\r\n  gridTemplateColumns: 'repeat(auto-fill, minmax(160px, 1fr))',\r\n  gap: '15px'\r\n};\r\n\r\nconst productCard = {\r\n  border: '1px solid #eee',\r\n  padding: '10px',\r\n  borderRadius: '8px',\r\n  textAlign: 'center',\r\n  backgroundColor: '#fff'\r\n};\r\n\r\nconst productImage = { width: '100%', height: '150px', objectFit: 'cover', borderRadius: '4px' };\r\nconst addBtn = { backgroundColor: '#131921', color: 'white', border: 'none', padding: '8px', width: '100%', cursor: 'pointer', borderRadius: '4px' };\r\n\r\nexport default CategoryPage;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,SAASC,SAAS,QAAQ,kBAAkB;AAC5C,SAASC,QAAQ,QAAQ,mBAAmB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE7C,MAAMC,YAAY,GAAGA,CAAC;EAAEC,SAAS;EAAEC;AAAW,CAAC,KAAK;EAAAC,EAAA;EAClD;EACA;EACA,MAAM;IAAEC,YAAY;IAAEC;EAAS,CAAC,GAAGT,SAAS,CAAC,CAAC;EAC9C,MAAM,CAACU,QAAQ,EAAEC,WAAW,CAAC,GAAGZ,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACa,OAAO,EAAEC,UAAU,CAAC,GAAGd,QAAQ,CAAC,IAAI,CAAC;EAE5CD,SAAS,CAAC,MAAM;IACd,MAAMgB,qBAAqB,GAAG,MAAAA,CAAA,KAAY;MACxCD,UAAU,CAAC,IAAI,CAAC;MAChB,IAAIE,KAAK,GAAGd,QAAQ,CAACe,IAAI,CAAC,UAAU,CAAC,CAACC,MAAM,CAAC,GAAG,CAAC;MAEjD,IAAIX,UAAU,EAAE;QACd;QACAS,KAAK,GAAGA,KAAK,CAACG,EAAE,CAAC,WAAW,EAAET,QAAQ,CAAC;MACzC,CAAC,MAAM;QACL;QACAM,KAAK,GAAGA,KAAK,CAACG,EAAE,CAAC,UAAU,EAAEV,YAAY,CAAC;MAC5C;MAEA,MAAM;QAAEW,IAAI;QAAEC;MAAM,CAAC,GAAG,MAAML,KAAK;MAEnC,IAAIK,KAAK,EAAE;QACTC,OAAO,CAACD,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAAC;MAClD,CAAC,MAAM;QACLT,WAAW,CAACQ,IAAI,CAAC;MACnB;MACAN,UAAU,CAAC,KAAK,CAAC;IACnB,CAAC;IAEDC,qBAAqB,CAAC,CAAC;EACzB,CAAC,EAAE,CAACN,YAAY,EAAEC,QAAQ,EAAEH,UAAU,CAAC,CAAC;EAExC,IAAIM,OAAO,EAAE,oBAAOT,OAAA;IAAKmB,KAAK,EAAE;MAAEC,OAAO,EAAE,MAAM;MAAEC,SAAS,EAAE;IAAS,CAAE;IAAAC,QAAA,EAAC;EAAgB;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAK,CAAC;EAEhG,oBACE1B,OAAA;IAAKmB,KAAK,EAAE;MAAEC,OAAO,EAAE;IAAO,CAAE;IAAAE,QAAA,gBAC9BtB,OAAA;MAAImB,KAAK,EAAE;QAAEQ,aAAa,EAAE,YAAY;QAAEC,YAAY,EAAE;MAAO,CAAE;MAAAN,QAAA,EAC9DnB,UAAU,GAAGG,QAAQ,CAACuB,OAAO,CAAC,GAAG,EAAE,GAAG,CAAC,GAAGxB;IAAY;MAAAkB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACrD,CAAC,EAEJnB,QAAQ,CAACuB,MAAM,KAAK,CAAC,gBACpB9B,OAAA;MAAAsB,QAAA,EAAG;IAAkC;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAG,CAAC;IAAA;IAEzC;IACA1B,OAAA;MAAKmB,KAAK,EAAEY,WAAY;MAAAT,QAAA,EACrBf,QAAQ,CAACyB,GAAG,CAAEC,OAAO,iBACpBjC,OAAA;QAAsBmB,KAAK,EAAEe,WAAY;QAAAZ,QAAA,gBACvCtB,OAAA;UAAKmC,GAAG,EAAEF,OAAO,CAACG,SAAU;UAACC,GAAG,EAAEJ,OAAO,CAACK,IAAK;UAACnB,KAAK,EAAEoB;QAAa;UAAAhB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,eACvE1B,OAAA;UAAImB,KAAK,EAAE;YAAEqB,QAAQ,EAAE,MAAM;YAAEC,MAAM,EAAE;UAAS,CAAE;UAAAnB,QAAA,EAAEW,OAAO,CAACK;QAAI;UAAAf,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC,eACtE1B,OAAA;UAAGmB,KAAK,EAAE;YAAEuB,KAAK,EAAE,SAAS;YAAEC,UAAU,EAAE;UAAO,CAAE;UAAArB,QAAA,GAAC,MAAI,EAACW,OAAO,CAACW,KAAK;QAAA;UAAArB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eAC3E1B,OAAA;UAAQ6C,OAAO,EAAEA,CAAA,KAAM3C,SAAS,CAAC+B,OAAO,CAAE;UAACd,KAAK,EAAE2B,MAAO;UAAAxB,QAAA,EAAC;QAAW;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA,GAJtEO,OAAO,CAACc,EAAE;QAAAxB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAKf,CACN;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC,CACN;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAEV,CAAC;;AAED;AAAAtB,EAAA,CA5DMH,YAAY;EAAA,QAGmBJ,SAAS;AAAA;AAAAmD,EAAA,GAHxC/C,YAAY;AA6DlB,MAAM8B,WAAW,GAAG;EAClBkB,OAAO,EAAE,MAAM;EACfC,mBAAmB,EAAE,uCAAuC;EAC5DC,GAAG,EAAE;AACP,CAAC;AAED,MAAMjB,WAAW,GAAG;EAClBkB,MAAM,EAAE,gBAAgB;EACxBhC,OAAO,EAAE,MAAM;EACfiC,YAAY,EAAE,KAAK;EACnBhC,SAAS,EAAE,QAAQ;EACnBiC,eAAe,EAAE;AACnB,CAAC;AAED,MAAMf,YAAY,GAAG;EAAEgB,KAAK,EAAE,MAAM;EAAEC,MAAM,EAAE,OAAO;EAAEC,SAAS,EAAE,OAAO;EAAEJ,YAAY,EAAE;AAAM,CAAC;AAChG,MAAMP,MAAM,GAAG;EAAEQ,eAAe,EAAE,SAAS;EAAEZ,KAAK,EAAE,OAAO;EAAEU,MAAM,EAAE,MAAM;EAAEhC,OAAO,EAAE,KAAK;EAAEmC,KAAK,EAAE,MAAM;EAAEG,MAAM,EAAE,SAAS;EAAEL,YAAY,EAAE;AAAM,CAAC;AAEpJ,eAAepD,YAAY;AAAC,IAAA+C,EAAA;AAAAW,YAAA,CAAAX,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}